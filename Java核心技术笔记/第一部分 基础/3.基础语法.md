[TOC]



# Java基础语法

## 注释

### 单行注释

```java
// 单行注释
```

### 多行注释

```java
/*
* 多行注释
*/
```

**注意：**	单行和多行注释，不会被JVM解释执行。另外多行注释不允许嵌套多行注释。

### 文档注释（Java 特有）

```java
/**
* @author 作者
* @version 版本
*/
```

文档注释内容可以被JDK提供的工具javadoc所解析，生成一套以网页文件形式的说明文档。

## 关键字与保留字

### 关键字

**定义：** 被Java语言赋予了特殊含义，用做专门用途的字符串（单词）

**特点：** 关键字中所有字母都为小写

官网：https://docs.oracle.com/javase/tutorial/java/nutsandbolts/_keywords.html

<table>
    <tr><td>用于定义数据类型</td></tr>
    <tr>
    	<td>class</td>
        <td>interface</td>
        <td>enum</td>
        <td>byte</td>
        <td>short</td>
    </tr>
    <tr>
    	<td>int</td>
        <td>long</td>
        <td>float</td>
        <td>double</td>
        <td>char</td>
    </tr>
    <tr>
    	<td>boolean</td>
        <td>void</td>
    </tr>
    <tr><td>定义流程控制</td></tr>
    <tr>
    	<td>if</td>
        <td>else</td>
        <td>switch</td>
        <td>case</td>
        <td>default</td>
    </tr>
    <tr>
    	<td>while</td>
        <td>do</td>
        <td>for</td>
        <td>break</td>
        <td>continue</td>
    </tr>
    <tr><td>return</td></tr>
    <tr>
    	<td>定义访问权限修饰符</td>
    </tr>
    <tr>
    	<td>private</td>
        <td>protected</td>
        <td>public</td>
    </tr>
    <tr>
    	<td>定义类、函数、变量修饰符</td>
    </tr>
    <tr>
    	<td>abstract</td>
        <td>final</td>
        <td>static</td>
        <td>synchronized</td>
    </tr>
    <tr>
    	<td>定义类和类之间关系</td>
    </tr>
    <tr>
    	<td>extends</td>
        <td>implements</td>
    </tr>
    <tr>
    	<td>定义建立实例及引用实例，判断实例</td>
    </tr>
    <tr>
    	<td>new</td>
        <td>this</td>
        <td>super</td>
        <td>instanceof</td>
    </tr>
    <tr>
    	<td>用于异常处理</td>
    </tr>
    <tr>
    	<td>try</td>
        <td>catch</td>
        <td>finally</td>
        <td>throw</td>
        <td>throws</td>
    </tr>
    <tr>
    	<td>包相关</td>
    </tr>
    <tr>
    	<td>package</td>
        <td>import</td>
    </tr>
    <tr>
    	<td>其他修饰符</td>
    </tr>
    <tr>
    	<td>native</td>
        <td>strictfp</td>
        <td>transient</td>
        <td>volatile</td>
        <td>assert</td>
    </tr>
    <tr>
    	<td>定义数据类型值的字面值</td>
    </tr>
    <tr>
    	<td>true</td>
        <td>false</td>
        <td>null</td>
    </tr>
</table>
### 保留字（reserved word）

**Java保留字：** 现有Java版本尚未使用，但以后版本可能会作为关键字使用。

<table>
    <tr><td>goto</td><td>const</td></tr>
</table>

## 标识符

> Java对各种变量、方法、类等要素命名时使用的字符序列称为标识符。即，凡是自己可以起名字的地方都叫标识符。

### 标识符定义规则：

1. 由26个英文字母大小写，0-9，_或$组成
2. 不可使用数字作为开头
3. 不能使用关键字或保留字，但能包含它们
4. Java中严格区分大小写，长度无限制
5. 不能包含空格

**规则：必须遵守，否则，编译不通过**

### Java中标识名称命令规范

- **包名：** xxxyyyzzz （全部小写）
- **类、接口名：** XxxYyyZzz（多单词构成时，单词的首字母大写）
- **变量名、方法名：** xxxYyyZzz（多单词时，首个单词小写，其它的首字母大写）
- **常量名：** XXX_YYY_ZZZ（全部大写，多个单词用下划线分隔）

注意：

1. 起名时，要"见名知意"
2. Java采用unicode字符集，标识可以使用汉字声明，但不建议使用

规范：可以不遵守，不影响编译和运行。

## 变量

**概念**

> - 内存中的一个区域
> - 该区域内的数据可以在同一类型范围内不断变化
> - 程序中最基本的存储单元。（变量类型、变量名和存储的值）

**作用：** 在内存中保存数据

**注意**

> 1. Java中必须先声明变量，才能使用
> 2. 使用变量名类访问这块区域的数据
> 3. 作用域：定义在一对{}内
> 4. 只在作用域内有效
> 5. 同一个作用域内变量名不能重复

**声明**

```java
// 语法： 数据类型 变量名称
int test;
```

**赋值**

```java
// 语法：变量名称 = 值
test = 1;
```

```java
int test1 = 1;
```

### 分类

1. 按数据类型

   - 基本数据类（primitive type）
     - 数值型
       - 整数类型（byte、short、int、long）
       - 浮点类型（float、double）
     - 字符型（char）
     - 布尔型（boolean）
   - 引用数据类型（reference type）
     - 类（class）【字符串类型在该范围下】
     - 接口（interface）
     - 数组（[]）

2. 按声明的位置不同

   - **成员变量：**方法体外，类体内
     - 实例变量（不以static修饰）
     - 类变量（以static修饰）
   - **局部变量：**方法体内
     - 形参（方法、构造器中定义的变量）
     - 方法局部变量（方法内定义）
     - 代码块局部变量（代码块内定义）

   注意两者的异同：同：都有声明周期   异：局部变量除形参外，需显式初始化。

#### 整型类型：byte、short、int、long

> Java中的整型类型有固定的表数范围和字段长度，不受系统影响。可以保证Java程序的可移植性

**默认整型常量为int型，声明long型常量须加"l"或"L"**

| 类型  | 占用存储空间 | 表数范围                |
| ----- | ------------ | ----------------------- |
| byte  | 1字节=8bit位 | -128~127                |
| short | 2字节        | -$2^{15}$ ~ $2^{15}$- 1 |
| int   | 4字节        | -$2^{31}$ ~ $2^{31}$- 1 |
| long  | 8字节        | -$2^{63}$~$2^{63}$-1    |

#### 浮点类型：float、double

> Java浮点类型有固定的表数范围和字段长度。

**浮点类型常量表示形式**

- 十进制：5.12    512.0f   .512(必须有小数点)
- 科学计数法：5.12e2   512E2   100E-2

**Java的浮点型常量默认为double，声明float类型，必须加“f”或“F”**

| 类型         | 占用存储空间 | 表数范围               | 尾数      |
| ------------ | ------------ | ---------------------- | --------- |
| 单精度float  | 4字节        | -3.403E38 ~ 3.403E38   | 精确到7位 |
| 双精度double | 8字节        | -1.798E308 ~ 1.798E308 | 14位      |

#### 字符类型：char

> 表示“字符”（2字节）
>
> Java中所有的字符都使用Unicode编码，一个字符可以存一个字母、一个汉字、其他书面语的一个字符。

**三种表现形式**

- 字符常量用单引号括起来的单个字符。char c = 'a';
- Java中允许使用转义字符" \ " 来将其后的字符转变位特殊字符型常量。char c ='\n';  '\n'表示换行。
- 可直接使用Unicode值表示字符型常量。

**char类型可以进行运算，它都有对应的Unicode码**

##### ASCII码 （了解）

> 上个世纪60年代，美国制定了一套字符编码，对英语字符与二进制位之间的关系，做了统一规定。这被称为ASCII码。ASCII码一共规定了**128**个字符的编码，比如空格“SPACE”是32（二进制00100000），大写的字母A是65（二进制01000001）。这128个符号（包括32个不能打印出来的控制符号），只占用了一个字节的后面7位，最前面的1位统一规定为0。

**缺点**

- 不能表示所有字符
- 相同的编码表示的字符不一样

##### Unicode编码（了解）

> 乱码：世界上存在着多种编码方式，同一个二进制数字可以被解释成不同的符号。

> Unicode：**一种编码，将世界上所有的符号都纳入其中。每一个符号都给予一个独一无二的编码，使用** **Unicode** **没有乱码的问题。** 
>
> Unicode 的缺点：Unicode 只规定了符号的二进制代码，却没有规定这个二进制代码应该如何存储：无法区别 Unicode 和 ASCII：计算机无法区分三个字节表示一个符号还是分别表示三个符号。另外，我们知道，英文字母只用一个字节表示就够了，如果unicode统一规定，每个符号用三个或四个字节表示，那么每个英文字母前都必然有二到三个字节是0，这对于存储空间来说是极大的浪费。

##### UTF-8 （了解）

> 互联网使用最广的一种Unicode的实现方式。
>
> 一种边长的编码方式。可以使用1-6个字节表示一个符号，根据不同的符号而变化字节长度。
>
> 编码规则：
>
> - 对于单字节的UTF-8编码，该字节的最高位为0，其余7位用来对字符进行编码（等同于ASCII码）。
> - 对于多字节的UTF-8编码，如果编码包含 n 个字节，那么第一个字节的前 n 位为1，第一个字节的第 n+1 位为0，该字节的剩余各位用来对字符进行编码。在第一个字节之后的所有的字节，都是最高两位为"10"，其余6位用来对字符进行编码。

#### 布尔类型：boolean

> 用于逻辑判断，程序流程控制

**只允许取值true和false，无null**

> 注意：
>
> 不可以使用0或非 0 的整数替代false和true，这点和C语言不同。
>
> Java虚拟机中没有任何供boolean值专用的字节码指令，Java语言表达所操作的boolean值，在编译之后都使用java虚拟机中的int数据类型来代替：true用1表示，false用0表示。———《java虚拟机规范 8版》

### 基本数据类型转换

> 当容量小的数据类型的变量与容量大的数据类型的变量做运算时，结果自动提升为容量大的数据类型。

**数据类型按容量大小排序为：**

byte 、char 、short → int → long → float → double 

*此时的容量大小指的是，表示数的范围的大和小。比如：float容量要大于long的容量*

> 注意：当byte、char、short三种类型的变量做运算时，结果为int型。

### 强制类型转换

自动类型提升运算的逆运算。（只涉及7种基本数据类型）

1. 需要使用强转符：()
2. 强制类性转换，可能导致精度损失。

### 字符串类型：String

1. String属于引用数据类型,翻译为：字符串
2. 声明String类型变量时，使用一对""
3. String可以和8种基本数据类型变量做运算，且运算只能是连接运算：+，运算的结果仍然是String类型。

## 运算符

### 算术运算符

| 运算符 | 运算                     | 范例         | 结果     |
| ------ | ------------------------ | ------------ | -------- |
| +      | 正号                     | +3           | 3        |
| -      | 负号                     | b=4；-b      | -4       |
| +      | 加号                     | 5+5          | 10       |
| -      | 减号                     | 6-4          | 2        |
| *      | 乘                       | 3*4          | 12       |
| /      | 除                       | 5/5          | 1        |
| %      | 取模（取余）             | 7%5          | 2        |
| ++     | 自增（前）：先运算后取值 | a=2；b=++a； | a=3;b=3; |
| ++     | 自增（后）：先取值后运算 | a=2；b=a++;  | a=3;b=2; |
| --     | 自减（前）：先运算后取值 | a=2;b=--a;   | a=1;b=1; |
| --     | 自减（后）：先取值后运算 | a=2;b=a--;   | a=1;b=2; |
| +      | 字符串连接               | "He"+"llo"   | "Hello"  |

**注意：**结果的符号与被模数的符号相同。（开发中常使用%判断能否被除尽）

除号：整数类型之间相除时，只保留整数部分而舍弃小数部分。

字符串连接符：任何与字符串相连接的类型都会转换成字符串。

### 赋值运算符

- **=**
- **扩展赋值运算符：+=、-=、*=、/=、%=**

### 比较运算符

| 运算符     | 运算               | 范例                      | 结果  |
| ---------- | ------------------ | ------------------------- | ----- |
| ==         | 相等于             | 4==3                      | false |
| !=         | 不等于             | 4!=3                      | true  |
| <          | 小于               | 4<3                       | false |
| >          | 大于               | 4>3                       | true  |
| <=         | 小于等于           | 4<=3                      | false |
| >=         | 大于等于           | 4>=3                      | true  |
| instanceof | 检查是否是类的对象 | "Hello" instanceof String | true  |

### 逻辑运算符

| 运算符 | 运算   | 运算符 | 运算   | 运算符 | 运算     |
| ------ | ------ | ------ | ------ | ------ | -------- |
| &      | 逻辑与 | \|     | 逻辑或 | ！     | 逻辑非   |
| &&     | 短路与 | \|\|   | 短路或 | ^      | 逻辑异或 |

示例

| a     | b     | a&b   | a&&b  | a\|b  | a\|\|b | !a    | a^b   |
| ----- | ----- | ----- | ----- | ----- | ------ | ----- | ----- |
| true  | true  | true  | true  | true  | true   | false | false |
| true  | false | false | false | true  | true   | false | true  |
| false | true  | false | false | true  | true   | true  | true  |
| false | false | false | false | false | false  | true  | false |

### 位运算符

| 运算符 | 运算       | 细节                                                         | 范例                   |
| ------ | ---------- | ------------------------------------------------------------ | ---------------------- |
| <<     | 左移       | 空位补0，被移除的高位丢弃，空缺位补0.                        | 3<<2=12 → 3 * 2 * 2=12 |
| >>     | 右移       | 被移位的二进制最高位是0，右移后，空缺位补0；最高位是1，空缺位补1. | 3>>1=1 → 3/2=1         |
| >>>    | 无符号右移 | 被移位二进制最高位无论是0或者是1，空缺位都用0补。            | 3>>>1=1 → 3/2=1        |
| &      | 与运算     | 二进制位进行&运算，只有1&1时结果是1，否则是0；               | 6&3=2                  |
| \|     | 或运算     | 二进制位进行\|运算，只有0\|0时结果是0，否则是1；             | 6\|3=7                 |
| ^      | 异或运算   | 相同二进制位进行 ^ 运算，结果是0；1^1=0 , 0^0=0; 不相同二进制位 ^ 运算结果是1。1^0=1 , 0^1=1 | 6 ^ 3 = 5              |
| ~      | 取反运算   | 正数取反，各二进制码按补码各位取反;负数取反，各二进制码按补码各位取反 | ~6 = -7                |

**注意：** 无<<<

**位运算是直接对整数的二进制进行的运算**

### 三元运算符

```java
(条件表达式) ? 表达式1 ：表达式2
条件表达式结果为 true 时，执行表达式1；为false时，执行表达式2.
```

表达式1和表达式2**为同种类型**

**三元运算符与if-else的联系与区别：**

- 三元运算符可简化if-else语句
- 三元运算符要求必须返回一个结果
- if后的代码块可有多个语句

### 运算符优先级

<table>
    <tr>
    	<td>
        	<table>
                <tr>
                	<td></td>
                    <td>.、	()、	{}、	;、	,</td>
                </tr>
                <tr>
                	<td>R → L</td>
                    <td>++、	--、	~、	!(data type)</td>
                </tr>
                <tr>
                	<td>L → R</td>
                    <td>*、	/、	%</td>
                </tr>
                <tr>
                	<td>L → R</td>
                    <td>+、	-</td>
                </tr>
                <tr>
                	<td>L → R</td>
                    <td><<、	>>、	>>></td>
                </tr>
                <tr>
                	<td>L → R</td>
                    <td><、	>、	<=、	>=、	instanceof</td>
                </tr>
                <tr>
                	<td>L → R</td>
                    <td>==、	!=</td>
                </tr>
                <tr>
                	<td>L → R</td>
                    <td>&</td>
                </tr>
                <tr>
                	<td>L → R</td>
                    <td>^</td>
                </tr>
                <tr>
                	<td>L → R</td>
                    <td>|</td>
                </tr>
                <tr>
                	<td>L → R</td>
                    <td>&&</td>
                </tr>
                <tr>
                	<td>L → R</td>
                    <td>||</td>
                </tr>
                <tr>
                	<td>R → L</td>
                    <td>?、	:</td>
                </tr>
                <tr>
                	<td>R → L</td>
                    <td>=、	*=、	/=、	%=</td>
                </tr>
                <tr>
                	<td></td>
                    <td>+=、	-=、	<<=、	>>=</td>
                </tr>
                <tr>
                	<td></td>
                    <td>>>>=、 &=、	^=、 |=</td>
                </tr>
            </table>
        </td>
        <td>
			<img src="../img/Snipaste_2020-06-17_17-43-13.png"/>
        </td>
    </tr>
</table>

## 流程控制

### 顺序结构

程序从上到下逐行地执行，中间没有任何判断和跳转。

### 分支结构

#### if-else

```java
if(条件表达式){
	执行表达式
}
```

```java
if(条件表达式){
	执行表达式1
}else{
	执行表达式2
}
```

```java
if(条件表达式){
	执行表达式1
}else if(条件表达式){
	执行表达式2
}else if(条件表达式){
	执行表达式3
}
...
else{
	执行表达式n
}
```

**说明：**

- 条件表达式必须是布尔表达式（关系表达式或逻辑表达式）、布尔变量

- 语句块只有一条执行语句时，一对{}可以省略，但建议保留

- if-else语句结构，根据需要可以嵌套使用

- 当if-else结构是“多选一”时，最后的else是可选的，根据需要可以省略

- 当多个条件是“互斥”关系时，条件判断语句及执行语句间顺序无所谓

  当多个条件是“包含”关系时，“小上大下 / 子上父下”

#### **switch-case**

```java
switch(表达式){
    case 常量1:
        执行语句1;
        //break;
    case 常量2:
        执行语句2;
        //break;
    ...
    default:
        执行语句n;
        //break;
}
```

**规则：**

- switch(表达式)中表达式的值必须是下列类型之一：**byte、short、char、int、枚举（JDK 5）、String（JDK 7）**

- case子句中的值必须是 **常量** ，不能是变量或不确定的表达式值；

- 同一个switch语句，所欲case子句中的常量值互不相同；

- break语句用来在执行完一个case分支后使程序跳出switch语句块；如

  果没有break，程序会顺序执行到switch结尾；

- default子句是**可任选的**。同时，位置也是灵活的。当没有匹配的case时，

  执行default

##### switch和if语句的对比

- 如果判断的具体数值不多，而且符合byte、short 、char、int、String、枚举等几种类型。虽然两个语句都可以使用，建议使用swtich语句。因为效率稍高。
- 其他情况：对区间判断，对结果为boolean类型判断，使用if，if的使用范围更广。也就是说，使用switch-case的，都可以改写为if-else。反之不成立。

### 循环结构

#### 循环结构四要素

1. 初始化条件
2. 循环条件（boolean类型）
3. 循环体
4. 迭代条件

#### for循环

```java
for(①;②;④){
	③
}
执行过程：① - ② - ③ - ④ - ② - ③ - ④ - ... - ②
```

**说明：**

- ②循环条件部分为boolean类型表达式，当值为false时，退出循环
- ①初始化部分可以声明多个变量，但必须是同一个类型，用逗号分隔
- ④可以有多个变量更新，用逗号分隔

#### while循环

```java
①
while(②){
	③;
	④;
}
执行过程：① - ② - ③ - ④ - ② - ③ - ④ - ... - ②
```

**说明：**

- 注意不要忘记声明④迭代部分。否则，循环将不能结束，变成死循环。
- for循环和while循环可以相互转换

#### do-while循环

```java
①
do{
	③;
	④;
}while(②);
执行过程：① - ③ - ④ - ② - ③ - ④ - ... - ②
```

**说明：**

**do-while**循环至少执行一次循环体

#### "无限循环"结构：while(true) 或 for(;;)

#### 如何结束一个循环结构？

- 当循环条件是false时
- 在循环体中，执行break

#### 嵌套循环

将一个循环结构A声明在另一个循环结构B的循环体中,就构成了嵌套循环
  内层循环：循环结构A
  外层循环：循环结构B

**说明：**

- 内层循环结构遍历一遍，只相当于外层循环循环体执行了一次
- 假设外层循环需要执行m次，内层循环需要执行n次。此时内层循环的循环体一共执行了m * n次

#### break、continue

##### break

- 用于终止某个语句块的执行

  ```java
  { ……
      break;
    ……
  }
  ```

- break语句出现在多层嵌套的语句块中时，可以通过标签指明要终止的是

  哪一层语句块

  ```java
  label1: { ……
      label2: { ……
              label3: { ……
                      break label2;
                      ……
              	} 
              } 
       	}
  ```

##### continue

- 只能使用在循环结构中
- 用于跳过其所在循环语句块的**一次**执行，继续下一次循环
- 出现在多层嵌套的循环语句体中时，可以通过标签指明要跳过的是哪一层循环

##### return

1. 使用范围：方法体中

2. 作用

   - 结束一个方法
   - 作用于返回值类型的方法，返回所要的数据

   与break和continue不同的是，return直接结束整个方法，不管这个return处于多少层循环之内

**注意：**

return关键字之后不可再声明执行语句

##### 特殊流程控制语句说明

- break只能用于**switch**语句**和**循环语句中。

- continue 只能用于**循环语句**中。

- 二者功能类似，但continue是终止**本次**循环，break是终止**本层**循环。

- break、continue之后不能有其他的语句，因为程序永远不会执行其后的语句。

- 标号语句必须紧接在循环的头部。标号语句不能用在非循环语句的前面。

- 很多语言都有goto语句，goto语句可以随意将控制转移到程序中的任意一条

  语句上，然后执行它。但使程序容易出错。Java中的break和continue是不同

  于goto的。

###### Scanner类的使用

> 所在包： java.util.Scanner;
>
> 从键盘获取不同类型的变量 实例化：Scanner scan = new Scanner(System.in); 调用Scanner类的相关方法（next() / nextXxx()），来获取指定类型的变量

```java
import java.util.Scanner;

class ScannerTest{
	
	public static void main(String[] args){
		//2.Scanner的实例化
		Scanner scan = new Scanner(System.in);
		
		//3.调用Scanner类的相关方法
		System.out.println("请输入你的姓名：");
		String name = scan.next();
		System.out.println(name);

		System.out.println("请输入你的芳龄：");
		int age = scan.nextInt();
		System.out.println(age);

		System.out.println("请输入你的体重：");
		double weight = scan.nextDouble();
		System.out.println(weight);

		System.out.println("你是否相中我了呢？(true/false)");
		boolean isLove = scan.nextBoolean();
		System.out.println(isLove);

		//对于char型的获取，Scanner没有提供相关的方法。只能获取一个字符串
		System.out.println("请输入你的性别：(男/女)");
		String gender = scan.next();//"男"
		char genderChar = gender.charAt(0);//获取索引为0位置上的字符
		System.out.println(genderChar);	
	}
}
```